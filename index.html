<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IA Black ‚Äî Quiz</title>
  <meta name="description" content="Quiz r√°pido, design neon estilo Matrix, preserva UTMs e envia respostas para o checkout." />

  <!-- Fonte estilo terminal -->
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --neon:#15ff95; --neon2:#0bd47a; --bg:#050505;
      --glass: rgba(255,255,255,.05);
      --border: rgba(21,255,149,.18);
    }
    html,body{height:100%}
    body{
      background: radial-gradient(100% 50% at 50% 0, rgba(21,255,149,.08), transparent 60%), var(--bg);
      color:#eafff4;
      font-family: "Share Tech Mono", ui-monospace, monospace;
      letter-spacing:.2px;
    }
    /* ‚Äúchuva‚Äù sutil de c√≥digo */
    .matrix {
      position: fixed; inset: 0; pointer-events:none; opacity:.25;
      background-image: url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120">\
  <text x="6" y="20" fill="%2315ff95" fill-opacity=".12" font-family="monospace" font-size="14">ÔΩ± Ôæà Ôæì Ôæõ ÔæÉ 1 0 ÔΩ± Ôæà Ôæì Ôæõ ÔæÉ</text>\
</svg>');
      background-size: 120px 120px;
      animation: drift 18s linear infinite;
    }
    @keyframes drift { from {background-position:0 0} to {background-position:0 120px} }

    .glass {
      background: var(--glass);
      border: 1px solid var(--border);
      box-shadow: 0 0 0 1px rgba(21,255,149,.08), 0 10px 30px rgba(0,0,0,.5), inset 0 0 30px rgba(21,255,149,.05);
    }
    .btn {
      background: linear-gradient(90deg,var(--neon),var(--neon2));
      color:#032818;
      border-radius: 16px;
      font-weight: 800;
      letter-spacing:.5px;
      transition: transform .12s ease, filter .12s ease;
      box-shadow: 0 0 30px rgba(21,255,149,.35);
    }
    .btn:hover { filter:brightness(1.08); transform: translateY(-1px) }
    .btn-ghost{
      background: rgba(0,0,0,.55);
      border:1px solid var(--border);
      border-radius:14px;
      transition: border-color .12s ease, background .12s ease;
    }
    .btn-ghost:hover{ border-color: rgba(21,255,149,.5); background:rgba(21,255,149,.06) }
    .pill{ border:1px solid var(--border); background:rgba(21,255,149,.08); border-radius:999px; }
    .progress{ height:8px; background:#0b0b0b; border:1px solid rgba(255,255,255,.1); border-radius:999px; overflow:hidden }
    .progress>i{ display:block; height:100%; width:0%; background:linear-gradient(90deg,var(--neon),var(--neon2)) }

    /* tipografia responsiva */
    h1{ font-size: clamp(26px, 5vw, 44px); line-height:1.1 }
    h3{ font-size: clamp(18px, 3.8vw, 24px) }
  </style>

  <!-- Meta Pixel (passar ?pixel=ID ou fixe no c√≥digo) -->
  <script>
    !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
    n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');
    (function(){
      const q=new URLSearchParams(location.search);
      const PIXEL=q.get('pixel')||'REPLACE_WITH_PIXEL_ID';
      fbq('init', PIXEL);
      fbq('track', 'PageView');
    })();
  </script>
</head>
<body>
  <div class="matrix"></div>

  <!-- HUD -->
  <header class="sticky top-0 z-30 backdrop-blur bg-black/60 border-b border-white/10">
    <div class="max-w-xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="pill px-3 py-1 text-xs">IA BLACK ‚Ä¢ QUIZ</div>
      <div id="progress" class="text-xs text-emerald-300/80"></div>
    </div>
  </header>

  <main class="max-w-xl mx-auto px-4 py-8">
    <!-- Hero / Intro -->
    <section id="intro" class="glass rounded-2xl p-6 md:p-8 space-y-4">
      <h1 class="font-black">Descubra seu caminho para faturar no sigilo</h1>
      <p class="text-emerald-100/80">Responda 5 perguntas r√°pidas. No final, liberamos o acesso ao mecanismo ideal para voc√™. <em>Leva menos de 60 segundos.</em></p>
      <button id="startBtn" class="btn px-6 py-4 w-full text-lg">COME√áAR AGORA</button>
      <p class="text-[11px] text-white/50">As UTMs da campanha ser√£o preservadas at√© o checkout.</p>
    </section>

    <!-- Quiz -->
    <form id="quiz" class="hidden mt-6 space-y-6">
      <div class="glass rounded-2xl p-6">
        <div class="flex items-center justify-between mb-3">
          <span class="pill px-3 py-1 text-[11px]">DIAGN√ìSTICO ‚Ä¢ <b id="stepLabel">1/5</b></span>
        </div>
        <div class="progress mb-5"><i id="bar"></i></div>
        <div id="qwrap" class="space-y-4"></div>
      </div>
    </form>

    <!-- Lead -->
    <section id="lead" class="hidden mt-6 glass rounded-2xl p-6 space-y-4">
      <h3 class="font-bold">Quase l√°! Libere seu acesso üëá</h3>
      <div class="grid sm:grid-cols-2 gap-3">
        <input id="nome" class="w-full rounded-xl bg-black/40 border border-white/10 px-4 py-3" placeholder="Seu nome (opcional)">
        <input id="whats" class="w-full rounded-xl bg-black/40 border border-white/10 px-4 py-3" placeholder="Seu WhatsApp (opcional)">
      </div>
      <button id="finishBtn" class="btn px-6 py-4 w-full text-lg">LIBERAR ACESSO</button>
      <p class="text-[11px] text-white/50">Ao continuar, voc√™ concorda com a pol√≠tica de privacidade.</p>
    </section>
  </main>

  <footer class="py-10 text-center text-[11px] text-white/40">¬© <span id="year"></span> IA Black</footer>

  <script>
    // ===== Config =====
    const DESTINO_CHECKOUT = 'https://go.pepperpay.com.br/hb90b'; // seu checkout
    const QUESTIONS = [
      { id:'objetivo',  q:'Qual seu principal objetivo agora?', a:['Renda extra imediata','Estruturar vendas no sigilo','Validar um produto','Escalar o que j√° vende'] },
      { id:'experiencia', q:'Seu n√≠vel hoje?', a:['Iniciante','Intermedi√°rio','Avan√ßado'] },
      { id:'tempo',      q:'Quanto tempo por dia voc√™ tem?', a:['< 1h','1‚Äì2h','3h+'] },
      { id:'exposicao',  q:'Quer aparecer nos conte√∫dos?', a:['N√£o, zero exposi√ß√£o','Talvez, pouco','Sim, sem problemas'] },
      { id:'orcamento',  q:'Qual or√ßamento para iniciar?', a:['R$0 a R$10/dia','R$10 a R$30/dia','R$30+/dia'] },
    ];

    // ===== Estado =====
    const params = new URLSearchParams(location.search);
    const keepParams = ['utm_source','utm_medium','utm_campaign','utm_content','utm_term','utm_id','fbclid'];
    const answers = {};
    let step = 0;

    // ===== Utils =====
    const $ = s => document.querySelector(s);
    const $$ = s => document.querySelectorAll(s);
    const setProgress = () => {
      $('#stepLabel').textContent = `${Math.min(step+1, QUESTIONS.length)}/${QUESTIONS.length}`;
      $('#bar').style.width = `${Math.round((step)/QUESTIONS.length*100)}%`;
      $('#progress').textContent = `Etapa ${Math.min(step+1, QUESTIONS.length)} de ${QUESTIONS.length}`;
    };
    const slug = t => t.normalize('NFD').replace(/[^\w\s-]/g,'').trim().replace(/\s+/g,'-').toLowerCase();

    // ===== Render =====
    function renderQuestion(i){
      const q = QUESTIONS[i];
      $('#qwrap').innerHTML = `
        <h3 class="text-emerald-300">${q.q}</h3>
        <div class="grid gap-3">
          ${q.a.map(opt => `
            <button type="button" class="btn-ghost px-4 py-3 text-left" data-a="${opt}">
              ${opt}
            </button>
          `).join('')}
        </div>
        <div class="mt-3 flex justify-between text-xs text-white/60">
          <button type="button" class="prev underline ${i===0?'opacity-30 pointer-events-none':''}">Voltar</button>
          <button type="button" class="skip underline">Pular</button>
        </div>
      `;
      setProgress();
    }

    function showLead(){
      $('#quiz').classList.add('hidden');
      $('#lead').classList.remove('hidden');
      $('#nome').focus();
    }

    // ===== Navega√ß√£o =====
    function next(){
      step++;
      if(step >= QUESTIONS.length) return showLead();
      renderQuestion(step);
    }
    function prev(){
      if(step > 0){ step--; renderQuestion(step); }
    }

    // ===== Final =====
    function finalizar(){
      const nome = $('#nome').value.trim();
      const whats = $('#whats').value.trim();
      const data = {nome,whats,...answers};

      const url = new URL(DESTINO_CHECKOUT);
      keepParams.forEach(k => { if(params.get(k)) url.searchParams.set(k, params.get(k)); });
      Object.entries(data).forEach(([k,v]) => { if(v) url.searchParams.set('q_'+slug(k), slug(String(v))); });

      fbq('track','Lead'); fbq('trackCustom','SubmitQuiz', data);
      location.href = url.toString();
    }

    // ===== Eventos =====
    $('#startBtn').addEventListener('click', () => {
      $('#intro').classList.add('hidden');
      $('#quiz').classList.remove('hidden');
      step = 0; renderQuestion(0);
      fbq('trackCustom','StartQuiz');
    });

    document.addEventListener('click', e => {
      const btn = e.target.closest('[data-a]');
      if(btn){
        const cur = QUESTIONS[step];
        answers[cur.id] = btn.dataset.a;
        fbq('trackCustom','AnswerQuestion', {id:cur.id, answer:btn.dataset.a});
        next();
      }
      if(e.target.matches('.skip')) next();
      if(e.target.matches('.prev')) prev();
      if(e.target.matches('#finishBtn')) finalizar();
    });

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>

</html>
